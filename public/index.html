<html>

<head>
  <!-- Including AngularJS -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js"></script>

  <!-- Including the fusioncharts core library -->
  <script type="text/javascript" src="https://cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"></script>

  <!-- Including the angularjs-fusioncharts directive-->
  <script type="text/javascript"
    src="https://unpkg.com/angularjs-fusioncharts@4.0.1/dist/angular-fusioncharts.js"></script>

  <!-- Including the fusion theme -->
  <script type="text/javascript"
    src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.fusion.js"></script>

  <script type="text/javascript">
    var myApp = angular.module('myApp', ['ng-fusioncharts']);

    //STEP 2 - Chart Data
    const chartData = [
      { label: 'Venezuela', value: '290' },
      { label: 'Saudi', value: '260' },
      { label: 'Canada', value: '180' },
      { label: 'Iran', value: '140' },
      { label: 'Russia', value: '115' },
      { label: 'UAE', value: '100' },
      { label: 'US', value: '30' },
      { label: 'China', value: '30' }
    ];

    // STEP 3 - Chart Configurations
    myApp.controller('MyController', ['$scope', '$http', function ($scope, $http) {
      $http.get("http://localhost:4000/wind").then(function (res) {
        console.log(res.data.data.result)
        // $scope.data = res.data.result
        const dataSource = {
          chart: {
            caption: "Windy",
            subCaption: "In MMbbl = One Million barrels",
            xAxisName: "Country",
            yAxisName: "Reserves (MMbbl)",
            numberSuffix: "K",
            theme: "fusion",

          },
          // Chart Data - from step 2
          "data": res.data.data.result
        };

        // datasource
        $scope.myDataSource = dataSource
      })

    }]);
  </script>

</head>

<body ng-app="myApp">
  <div ng-controller="MyController">
    <div fusioncharts id="my-chart-id" width="700" height="400" type="line" dataSource="{{myDataSource}}">
    </div>
  </div>
</body>

</html>